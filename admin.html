<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">
	<title>Admin Login</title>
	<style>
		.login-outer{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#f8fafc}
		.login-card{max-width:420px;width:100%}
		.brand-logo{height:56px}
		.login-footer{font-size:13px;color:#6b7280}
	</style>
</head>
<body>
	<div id="site-header"></div>

	<div class="login-outer">
		<div class="card login-card p-4">
			<div class="text-center mb-3">
				<img src="assets/logo.svg" alt="Logo" class="brand-logo mb-2">
				<h4 id="brandName" class="mb-0">Admin Panel</h4>
				<div class="login-footer">Sign in to manage packages, testimonials and site settings</div>
			</div>

			<div class="mb-3">
				<label class="form-label">Email</label>
				<input id="user" class="form-control" placeholder="you@example.com" autocomplete="username">
			</div>
			<div class="mb-3">
				<label class="form-label">Password</label>
				<div class="input-group">
					<input id="pass" type="password" class="form-control" placeholder="Password" autocomplete="current-password">
					<button id="togglePass" class="btn btn-outline-secondary" type="button">Show</button>
				</div>
			</div>
			<div class="mb-3 form-check">
				<input type="checkbox" class="form-check-input" id="rememberMe">
				<label class="form-check-label" for="rememberMe">Remember me</label>
			</div>

			<div class="d-grid gap-2">
				<button id="loginBtn" class="btn btn-primary">Login</button>
			</div>

			<div id="loginMessage" class="text-danger mt-2" style="display:none"></div>

			<div class="text-center mt-3">
				<a href="/" class="text-muted">Return to site</a>
			</div>
		</div>
	</div>

	<div id="site-footer"></div>

	<script src="js/includes.js"></script>
	<script src="js/data.js"></script>
	<script src="js/auth.js"></script>
	<script>
		// UX wiring
		document.getElementById('togglePass').addEventListener('click', ()=>{
			const p = document.getElementById('pass');
			if(p.type==='password'){ p.type='text'; document.getElementById('togglePass').textContent='Hide'; }
			else { p.type='password'; document.getElementById('togglePass').textContent='Show'; }
		});
		document.getElementById('loginBtn').addEventListener('click', ()=>{ login(); });
		// allow Enter to submit
		[document.getElementById('user'), document.getElementById('pass')].forEach(el=>el.addEventListener('keydown', e=>{ if(e.key==='Enter') login(); }));

		// update brand name from settings if available
		window.addEventListener('includesLoaded', ()=>{
			try{ const s = (getData().settings||{}); if(s.siteName) document.getElementById('brandName').textContent = s.siteName + ' â€” Admin'; }catch(e){}
		});
	</script>
</body>
</html>